<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles.css" />
        <title>ecochess</title>
        <link rel="icon" href="images/favicon.png" />
    </head>
    <body>
        <div id="homeModal">
            <div class="modalContent">
                <p>Enter your name:</p>
                <input type="text" id="nameInput" />
                <p>Which room would you join?</p>
                <input type="text" id="roomInput" />
                <button id="randomRoom">Random Room</button>
                <button id="goToRoom">Go To Room</button>
            </div>
        </div>

        <template id="promotionTemplate">
            <div id="promotionModal">
                <div class="modalContent">
                    <p>PROMOTION</p>
                    <div id="promotionSelector">
                        <img
                            src="images/ocean_images/ocean_queen.png"
                            class="promotionItem"
                            piece="q"
                        />
                        <img
                            src="images/ocean_images/ocean_rook.png"
                            class="promotionItem"
                            piece="r"
                        />
                        <img
                            src="images/ocean_images/ocean_bishop.png"
                            class="promotionItem"
                            piece="b"
                        />
                        <img
                            src="images/ocean_images/ocean_knight.png"
                            class="promotionItem"
                            piece="n"
                        />
                    </div>
                </div>
            </div>
        </template>

        <div id="layout">
            <div id="board"></div>

            <div id="sidebar">
                <div>1</div>
                <div>2</div>
                <div>3</div>
                <div>4</div>
                <div>5</div>
                <div>6</div>
                <div>7</div>
                <div>8</div>
            </div>

            <div id="bottombar">
                <div>a</div>
                <div>b</div>
                <div>c</div>
                <div>d</div>
                <div>e</div>
                <div>f</div>
                <div>g</div>
                <div>h</div>
            </div>

            <div id="infoBox">
                <div id="messageBoard"></div>
                <div id="environmentFacts"></div>
                <div id="movesBox"></div>
            </div>

            <div id="capturedPieces"></div>
        </div>

        <script src="socket.io.js"></script>

        <script src="init.js"></script>

        <script src="sockets.js"></script>

        <script src="facts.js"></script>

        <script type="module">
            import { Game } from "/js-chess-engine/lib/js-chess-engine.mjs";
            game = new Game();

            generateBoard(side);

            fillBoard = () => {
                let pieces = game.board.configuration.pieces;
                // cell is the coordinate of the piece, pieces[cell] is the actual piece name
                for (let cell in pieces) {
                    let cellHTML = document.getElementById(cell);
                    cellHTML.innerHTML = "";
                    let p = document.createElement("div"); // creates a piece div
                    let pieceName = pieces[cell]; // pieceName is the name of the piece at coordinates (cell)
                    p.className = `${pieceName} ${cell} ${pieceIdentifier(
                        side,
                        pieceName
                    )}`; // p.className = 'br a8'
                    cellHTML.appendChild(p);
                }
                console.log("filled");
            };

            fillBoard();
        </script>

        <script src="main.js"></script>
    </body>
</html>
